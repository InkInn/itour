{"version":3,"file":"splitbutton.js","sourceRoot":"","sources":["splitbutton.ts"],"names":[],"mappings":"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","sourcesContent":["import {NgModule,Component,ElementRef,OnInit,OnDestroy,Input,Output,EventEmitter,ContentChildren,QueryList,Renderer} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {DomHandler} from '../dom/domhandler';\nimport {MenuItem} from '../common/api';\nimport {ButtonModule} from '../button/button';\nimport {Router} from '@angular/router';\n\n@Component({\n    selector: 'p-splitButton',\n    template: `\n        <div #container [ngClass]=\"{'ui-splitbutton ui-buttonset ui-widget':true,'ui-state-disabled':disabled}\" [ngStyle]=\"style\" [class]=\"styleClass\">\n            <button #defaultbtn type=\"button\" pButton [icon]=\"icon\" [label]=\"label\" cornerStyleClass=\"ui-corner-left\" (click)=\"onDefaultButtonClick($event)\" [disabled]=\"disabled\" [attr.tabindex]=\"tabindex\">\n            </button><button type=\"button\" pButton class=\"ui-splitbutton-menubutton\" icon=\"fa-caret-down\" cornerStyleClass=\"ui-corner-right\" (click)=\"onDropdownClick($event,menu,container)\" [disabled]=\"disabled\"></button>\n            <div #menu [ngClass]=\"'ui-menu ui-menu-dynamic ui-widget ui-widget-content ui-corner-all ui-helper-clearfix ui-shadow'\" [style.display]=\"menuVisible ? 'block' : 'none'\"\n                    [ngStyle]=\"menuStyle\" [class]=\"menuStyleClass\">\n                <ul class=\"ui-menu-list ui-helper-reset\">\n                    <li class=\"ui-menuitem ui-widget ui-corner-all\" role=\"menuitem\" *ngFor=\"let item of model\">\n                        <a [href]=\"item.url||'#'\" \n                        [ngClass]=\"{'ui-menuitem-link ui-corner-all':true,'ui-state-disabled':item.disabled}\" \n                        (click)=\"itemClick($event,item)\">\n                            <span [ngClass]=\"'ui-menuitem-icon fa fa-fw'\" [class]=\"item.icon\" *ngIf=\"item.icon\"></span>\n                            <span class=\"ui-menuitem-text\">{{item.label}}</span>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    `,\n    providers: [DomHandler]\n})\nexport class SplitButton implements OnInit,OnDestroy {\n\n    @Input() model: MenuItem[];\n\n    @Input() icon: string;\n\n    @Input() iconPos: string = 'left';\n        \n    @Input() label: string;\n    \n    @Output() onClick: EventEmitter<any> = new EventEmitter();\n    \n    @Input() style: any;\n    \n    @Input() styleClass: string;\n    \n    @Input() menuStyle: any;\n    \n    @Input() menuStyleClass: string;\n    \n    @Input() disabled: boolean;\n\n    @Input() tabindex: number;\n                \n    public menuVisible: boolean = false;\n    \n    public documentClickListener: any;\n\n    constructor(public el: ElementRef, public domHandler: DomHandler, public renderer: Renderer, public router: Router) {}\n    \n    ngOnInit() {\n        this.documentClickListener = this.renderer.listenGlobal('body', 'click', () => {\n            this.menuVisible = false;\n        });\n    }\n    \n    onDefaultButtonClick(event: Event) {\n        this.onClick.emit(event);\n    }\n    \n    itemClick(event: Event, item: MenuItem)Â {\n        if(item.disabled) {\n            event.preventDefault();\n            return;\n        }\n        \n        if(!item.url||item.routerLink) {\n            event.preventDefault();\n        }\n        \n        if(item.command) {\n            if(!item.eventEmitter) {\n                item.eventEmitter = new EventEmitter();\n                item.eventEmitter.subscribe(item.command);\n            }\n            \n            item.eventEmitter.emit(event);\n        }\n        \n        this.menuVisible = false;\n        \n        if(item.routerLink) {\n            this.router.navigate(item.routerLink);\n        }\n    }\n    \n    onDropdownClick(event: Event, menu: HTMLDivElement, container: Element) {\n        this.menuVisible= !this.menuVisible;\n        this.domHandler.relativePosition(menu, container);\n        this.domHandler.fadeIn(menu,25);\n        menu.style.zIndex = String(++DomHandler.zindex);\n        event.stopPropagation();\n    }\n        \n    ngOnDestroy() {\n        if(this.documentClickListener) {\n            this.documentClickListener();\n        }\n    }\n}\n\n@NgModule({\n    imports: [CommonModule,ButtonModule],\n    exports: [SplitButton,ButtonModule],\n    declarations: [SplitButton]\n})\nexport class SplitButtonModule { }"]}